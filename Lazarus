-- Gui to Lua
-- Version: 3.2

-- Instances:

local ScreenGui = Instance.new("ScreenGui")
local main = Instance.new("Frame")
local label = Instance.new("TextLabel")
local Maded = Instance.new("TextLabel")
local GunMod = Instance.new("TextButton")
local InfiniteAmmo = Instance.new("TextButton")
local OneShotGun = Instance.new("TextButton")
local Aimbot = Instance.new("TextButton")
local AutoFarm = Instance.new("TextButton")
local FlyScript = Instance.new("TextButton")
local TextButton = Instance.new("TextButton")
local TextButton_2 = Instance.new("TextButton")

--Properties:

ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

main.Name = "main"
main.Parent = ScreenGui
main.BackgroundColor3 = Color3.fromRGB(158, 158, 158)
main.BorderColor3 = Color3.fromRGB(4, 13, 8)
main.Position = UDim2.new(0.141255587, 0, 0.0904124305, 0)
main.Size = UDim2.new(0, 531, 0, 243)
main.Visible = false
main.Active = true
main.Draggable = true
main.Style = Enum.FrameStyle.RobloxRound

label.Name = "label"
label.Parent = main
label.BackgroundColor3 = Color3.fromRGB(25, 155, 255)
label.BorderColor3 = Color3.fromRGB(27, 42, 53)
label.Position = UDim2.new(0.00252698362, 0, 0.00553870201, 0)
label.Size = UDim2.new(0, 507, 0, 40)
label.SizeConstraint = Enum.SizeConstraint.RelativeXX
label.Font = Enum.Font.PermanentMarker
label.Text = "Dragan#7630"
label.TextColor3 = Color3.fromRGB(0, 0, 0)
label.TextSize = 53.000
label.TextWrapped = true

Maded.Name = "Maded"
Maded.Parent = main
Maded.BackgroundColor3 = Color3.fromRGB(25, 155, 255)
Maded.Position = UDim2.new(0.62391597, 0, 0.89788413, 0)
Maded.Size = UDim2.new(0, 196, 0, 19)
Maded.Font = Enum.Font.SciFi
Maded.Text = "Made By: Pranken Dragan#9352"
Maded.TextColor3 = Color3.fromRGB(0, 0, 0)
Maded.TextSize = 14.000

GunMod.Name = "GunMod"
GunMod.Parent = main
GunMod.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
GunMod.Position = UDim2.new(0.0378775485, 0, 0.328626394, 0)
GunMod.Size = UDim2.new(0, 206, 0, 33)
GunMod.Style = Enum.ButtonStyle.RobloxRoundDefaultButton
GunMod.Font = Enum.Font.SciFi
GunMod.Text = "GunMode 1/2"
GunMod.TextColor3 = Color3.fromRGB(0, 0, 0)
GunMod.TextSize = 26.000
GunMod.MouseButton1Down:connect(function()
	local Tables = {}

	for i,v in next, getreg() do
		if typeof(v) == "table" then
			if v.Damage then
				table.insert(Tables, v)
			end
		end
	end

	local function Upload()
		for i,v in next, Tables do
			v.GunKick = 0
			v.AimFOV = 360
			v.FireTime = 0.0001
			v.Damage = {Max = 100, Min = 100}
			v.Spread = {Min = 0.01, Max = 0.01}
			v.Semi = false
			v.HeadShot = 100
			v.TorsoShot = 100
			v.LimbShot = 100
		end
	end

	while wait(5) do
		Tables = {}

		for i,v in next, getreg() do
			if typeof(v) == "table" then
				if v.Damage then
					table.insert(Tables, v)
				end
			end
		end

		Upload()
	end
end)

InfiniteAmmo.Name = "Infinite Ammo"
InfiniteAmmo.Parent = main
InfiniteAmmo.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
InfiniteAmmo.Position = UDim2.new(0.559529603, 0, 0.329420626, 0)
InfiniteAmmo.Size = UDim2.new(0, 206, 0, 33)
InfiniteAmmo.Style = Enum.ButtonStyle.RobloxRoundDefaultButton
InfiniteAmmo.Font = Enum.Font.SciFi
InfiniteAmmo.Text = "Infinite Ammo"
InfiniteAmmo.TextColor3 = Color3.fromRGB(0, 0, 0)
InfiniteAmmo.TextSize = 26.000
InfiniteAmmo.TextWrapped = true
InfiniteAmmo.MouseButton1Down:connect(function()

	local Tables = {}

	for i,v in next, getreg() do
		if typeof(v) == "table" then
			if v.Ammo then
				table.insert(Tables, v)
			end
		end
	end

	local function Upload()
		for i,v in next, Tables do
			v.Ammo = 10000
			v.StoredAmmo = 10000
			v.MagSize = 10000
			v.MaxAmmo = 10000
		end
	end

	while wait(15) do
		Tables = {}

		for i,v in next, getreg() do
			if typeof(v) == "table" then
				if v.Ammo then
					table.insert(Tables, v)
				end
			end
		end

		Upload()
	end
end)

OneShotGun.Name = "OneShotGun"
OneShotGun.Parent = main
OneShotGun.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
OneShotGun.Position = UDim2.new(0.0389228985, 0, 0.474145353, 0)
OneShotGun.Size = UDim2.new(0, 206, 0, 33)
OneShotGun.Style = Enum.ButtonStyle.RobloxRoundDefaultButton
OneShotGun.Font = Enum.Font.SciFi
OneShotGun.Text = "OneShotGun"
OneShotGun.TextColor3 = Color3.fromRGB(0, 0, 0)
OneShotGun.TextSize = 31.000
OneShotGun.TextWrapped = true
OneShotGun.MouseButton1Down:connect(function()
	hookfunction(gcinfo, function()
		return math.random(200,350)
	end)

	-- // Constants \\ --
	-- [ Services ] --
	local Services = setmetatable({}, {__index = function(Self, Index)
		local NewService = game:GetService(Index)
		if NewService then
			Self[Index] = NewService
		end
		return NewService
	end})

	-- [ LocalPlayer ] --
	local LocalPlayer = Services.Players.LocalPlayer

	-- // Variables \\ --
	local Connections = {
		Weapon1 = nil;
		Weapon2 = nil;
		Weapon3 = nil;
		Backpack = nil;
	}

	local RoundNumber = workspace.RoundNum

	-- // Functions \\ --
	local function CharacterAdded(Character)
		local Backpack = LocalPlayer:WaitForChild('Backpack')

		local function ChildAdded(Child)
			if Child.Name == "Weapon1" or Child.Name == "Weapon2" or Child.Name == "Weapon3" then
				local Module = require(Child)

				if Connections[Child.Name] then
					Connections[Child.Name]:Disconnect()
					Connections[Child.Name] = nil
				end

				Connections[Child.Name] = Services.RunService.RenderStepped:Connect(function()
					Module.Ammo = Module.MagSize + 1
					Module.StoredAmmo = Module.MaxAmmo
					Module.HeadShot = 150 + (RoundNumber.Value * 150)
					Module.TorsoShot = 150 + (RoundNumber.Value * 150)
					Module.LimbShot = 150 + (RoundNumber.Value * 150)
					Module.BulletPenetration = 10
				end)
			end
		end

		if Connections.Backpack then
			Connections.Backpack:Disconnect()
			Connections.Backpack = nil
		end

		for i,v in ipairs(Backpack:GetChildren()) do
			ChildAdded(v)
		end
		Connections.Backpack = Backpack.ChildAdded:Connect(ChildAdded)
	end

	-- // Event Listeners \\ --
	LocalPlayer.CharacterAdded:Connect(CharacterAdded)
	CharacterAdded(LocalPlayer.Character)

	-- // Metatable \\ --
	local RawMetatable = getrawmetatable(game)
	local __Namecall = RawMetatable.__namecall

	setreadonly(RawMetatable, false)

	RawMetatable.__namecall = newcclosure(function(Object, ...)
		local NamecallMethod = getnamecallmethod()
		local Arguments = {...}

		if typeof(Object) == "Instance" and Object.IsA(Object, "RemoteEvent") then
			if tostring(Object) == "Damage" and NamecallMethod == "FireServer" then
				Arguments[1].Damage = Arguments[1].BodyPart.Parent.Humanoid.MaxHealth + 10
			end
		end

		return __Namecall(Object, unpack(Arguments))
	end)

	setreadonly(RawMetatable, true)

	-- // Actions \\ --
	--LocalPlayer.Character.Health:Destroy()
end)

Aimbot.Name = "Aimbot"
Aimbot.Parent = main
Aimbot.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Aimbot.Position = UDim2.new(-0.0150749944, 0, 0.629793763, 0)
Aimbot.Size = UDim2.new(0, 208, 0, 33)
Aimbot.Style = Enum.ButtonStyle.RobloxRoundDefaultButton
Aimbot.Font = Enum.Font.SciFi
Aimbot.Text = "Aimbot"
Aimbot.TextColor3 = Color3.fromRGB(0, 0, 0)
Aimbot.TextSize = 31.000
Aimbot.TextWrapped = true
Aimbot.MouseButton1Down:connect(function()

	local Mode = "AimTriggerBot"
	local AimSpeed = 0.25
	local distance = 10

	local Player = game.Players.LocalPlayer

	local Warner = Instance.new("ScreenGui")
	local TextLabel = Instance.new("TextLabel")

	--Properties:

	if Player.PlayerGui:FindFirstChild("Warner") then
		Player.PlayerGui.Warner:Destroy()
	end

	Warner.Name = "Warner"
	Warner.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

	TextLabel.Parent = Warner
	TextLabel.BackgroundColor3 = Color3.fromRGB(70, 70, 70)
	TextLabel.BorderColor3 = Color3.fromRGB(53, 53, 53)
	TextLabel.BorderSizePixel = 5
	TextLabel.Position = UDim2.new(0.42101106, 0, 0, 0)
	TextLabel.Size = UDim2.new(0, 200, 0, 30)
	TextLabel.Font = Enum.Font.Roboto
	TextLabel.Text = "Warning Close!"
	TextLabel.TextColor3 = Color3.fromRGB(255, 0, 4)
	TextLabel.TextScaled = true
	TextLabel.TextSize = 14.000
	TextLabel.TextWrapped = true

	pcall(function()
		for i,v in pairs(workspace:GetChildren()) do
			if v:isA("Sound") then
				v:Destroy()
			end
		end
	end)

	local Sound = Instance.new("Sound",workspace)
	Sound.Volume = 1
	Sound.Looped = true
	Sound.Name = "HB"
	Sound.SoundId = "rbxassetid://131038747"

	local Mouse = Player:GetMouse()

	local Effects = Instance.new("Model",workspace)

	function checkregion(point,range,ignore)
		return workspace:FindPartsInRegion3WithIgnoreList(Region3.new(point-Vector3.new(1,1,1)*range/2,point+Vector3.new(1,1,1)*range/2),ignore,math.huge)
	end

	function EffectZombie(zom)
		if zom:FindFirstChild("holo") == nil then
			local zomcf = zom.Head.CFrame
			local holo = Instance.new("Part")
			holo.Transparency = 0.75
			holo.Name = "holo"
			holo.BrickColor = BrickColor.new("Really red")
			holo.Material = "Neon"
			holo.Position = zom.HumanoidRootPart.Position
			holo.Anchored = true
			holo.CanCollide = false
			holo.Size = Vector3.new(1,1,1)
			local Sine = 0
			holo.Parent = zom
			for i,v in pairs(zom:GetChildren()) do
				if v:IsA("BasePart") then
					v.CanCollide = false
				end
			end
			while zom.Parent ~= nil do
				wait(1/30)
				Sine = Sine + 1
				zom.Head.Anchored = true
				local hp = zom.Humanoid.Health/zom.Humanoid.MaxHealth
				holo.Size = Vector3.new(0.5,0.5,0.5) - Vector3.new(hp,hp,hp)
				zom.Head.CFrame = zomcf
			end
			holo:Destroy()
		end
	end

	local mouse2 = false
	local aimbotting = false

	Mouse.Button2Down:Connect(function()
		mouse2 = true
	end)

	Mouse.Button2Up:Connect(function()
		mouse2 = false
	end)

	local Heads = {"EyeL", "EyeR", "Head"}

	while Warner.Parent ~= nil do
		game:GetService("RunService").RenderStepped:Wait()
		pcall(function()
			local mouser = nil
			for _,vv in next, checkregion(Mouse.Hit.p,1,{}) do
				if vv~=nil and vv.Parent.Name == "Zombie" and table.find(Heads,vv.Name) and vv.Parent.Humanoid.Health > 0 then
					mouser = vv
					break
				end
			end
			for _,vv in next, checkregion(Player.Character.HumanoidRootPart.CFrame*CFrame.new(0,0,-5).p,5,{}) do
				if vv~=nil and vv.Parent.Name == "Zombie" and table.find(Heads,vv.Name) and vv.Parent.Humanoid.Health > 0 then
					mouser = vv
					break
				end
			end
			if mouse2 == true and mouser~=nil and mouser.Parent.Name == "Zombie" and table.find(Heads,mouser.Name) and mouser.Parent.Humanoid.Health > 0 then
				if Mode == "AimBot" or Mode == "AimTriggerBot" then
					mouse2press()
				end
				if Mode == "TriggerBot" or Mode == "AimTriggerBot" then
					mouse1click()
				end
				if Mode == "AimBot" or Mode == "AimTriggerBot" then
					workspace.CurrentCamera.CFrame = workspace.CurrentCamera.CFrame:Lerp(CFrame.new(workspace.CurrentCamera.CFrame.p,mouser.CFrame.p),AimSpeed)
				end
			else
				-- workspace.CurrentCamera.CFrame = workspace.CurrentCamera.CFrame * CFrame.Angles(math.rad(0.1),0,0)
			end
			local zombieclose = false
			for i,v in pairs(workspace.Baddies:GetChildren()) do
				if v.Humanoid.Health > 0 and v:FindFirstChild("Head") then
					if (v.Head.Position - Player.Character.Head.Position).Magnitude < distance and v.Head.Position.Y-5 < Player.Character.Head.Position.Y then
						zombieclose = true
						spawn(function()
							EffectZombie(v)
						end)
					end
				end
			end
			if zombieclose == true then
				Sound.Playing =  true
				TextLabel.Text = "Warning Close!"
				TextLabel.TextColor3 = Color3.fromRGB(255,0,0)
			elseif zombieclose == false then
				Sound.Playing =  false
				TextLabel.TextColor3 = Color3.fromRGB(0,0,255)
				TextLabel.Text = "Safe"
			end
		end)
	end
end)

AutoFarm.Name = "AutoFarm"
AutoFarm.Parent = main
AutoFarm.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
AutoFarm.Position = UDim2.new(0.602135837, 0, 0.614470661, 0)
AutoFarm.Size = UDim2.new(0, 208, 0, 34)
AutoFarm.Style = Enum.ButtonStyle.RobloxRoundDefaultButton
AutoFarm.Font = Enum.Font.SciFi
AutoFarm.Text = "Autofarm"
AutoFarm.TextColor3 = Color3.fromRGB(0, 0, 0)
AutoFarm.TextSize = 31.000
AutoFarm.TextWrapped = true
AutoFarm.MouseButton1Down:connect(function()
	getgenv().settings = {
		['killall'] = true,
		['farmmoney'] = false,
	}
	function getKey()
		for i , v in pairs(getgc(true)) do
			if type(v) == 'function' and debug.getinfo(v).name == 'Fire' and getfenv(v).script == game.Players.LocalPlayer.Character:WaitForChild("WeaponScript") then 
				return debug.getupvalue(v,15)
			end
		end
	end
	local key = getKey()
	game.Players.LocalPlayer.CharacterAdded:Connect(function()
		wait(2)
		key = getKey()
	end)
	while getgenv().settings.killall or getgenv().settings.farmmoney do 
		wait()
		if getgenv().settings.killall then 
			if not key then 
				key = getKey()
				wait(1)
			else 
				for i , v in pairs(game:GetService("Workspace").Baddies:GetChildren()) do 
					if v:FindFirstChild("Humanoid") and v.Humanoid:FindFirstChild("Damage") then
						v.Humanoid.Damage:FireServer({
							['BodyPart'] = v.HeadBox,
							['Force'] = 0,
							['GibPower'] = 0,
							['Damage'] =  math.huge
						},key)
					end
				end
			end
		end
		if getgenv().settings.farmmoney then 
			if not key then 
				key = getKey()
				wait(1)
			else 
				for i , v in pairs(game:GetService("Workspace").Baddies:GetChildren()) do 
					if v:FindFirstChild("Humanoid") and v.Humanoid:FindFirstChild("Damage") then
						for i = 1 ,2 do
							v.Humanoid.Damage:FireServer({
								['BodyPart'] = v.HeadBox,
								['Force'] = 0,
								['GibPower'] = 0,
								['Damage'] =  0
							},key)
						end
					end
				end
			end
		end
	end
end)

FlyScript.Name = "FlyScript"
FlyScript.Parent = main
FlyScript.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
FlyScript.Position = UDim2.new(0.559529603, 0, 0.465223074, 0)
FlyScript.Size = UDim2.new(0, 206, 0, 33)
FlyScript.Style = Enum.ButtonStyle.RobloxRoundDefaultButton
FlyScript.Font = Enum.Font.SciFi
FlyScript.Text = "Fly [X]"
FlyScript.TextColor3 = Color3.fromRGB(0, 0, 0)
FlyScript.TextSize = 26.000
FlyScript.TextWrapped = true
FlyScript.MouseButton1Down:connect(function()
	repeat wait()
	until game.Players.LocalPlayer and game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:findFirstChild("Torso") and game.Players.LocalPlayer.Character:findFirstChild("Humanoid")
	local mouse = game.Players.LocalPlayer:GetMouse()
	repeat wait() until mouse
	local plr = game.Players.LocalPlayer
	local torso = plr.Character.Torso
	local flying = true
	local deb = true
	local ctrl = {f = 0, b = 0, l = 0, r = 0}
	local lastctrl = {f = 0, b = 0, l = 0, r = 0}
	local maxspeed = 50
	local speed = 0

	function Fly()
		local bg = Instance.new("BodyGyro", torso)
		bg.P = 9e4
		bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
		bg.cframe = torso.CFrame
		local bv = Instance.new("BodyVelocity", torso)
		bv.velocity = Vector3.new(0,0.1,0)
		bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
		repeat wait()
			plr.Character.Humanoid.PlatformStand = true
			if ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0 then
				speed = speed+.5+(speed/maxspeed)
				if speed > maxspeed then
					speed = maxspeed
				end
			elseif not (ctrl.l + ctrl.r ~= 0 or ctrl.f + ctrl.b ~= 0) and speed ~= 0 then
				speed = speed-1
				if speed < 0 then
					speed = 0
				end
			end
			if (ctrl.l + ctrl.r) ~= 0 or (ctrl.f + ctrl.b) ~= 0 then
				bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (ctrl.f+ctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(ctrl.l+ctrl.r,(ctrl.f+ctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
				lastctrl = {f = ctrl.f, b = ctrl.b, l = ctrl.l, r = ctrl.r}
			elseif (ctrl.l + ctrl.r) == 0 and (ctrl.f + ctrl.b) == 0 and speed ~= 0 then
				bv.velocity = ((game.Workspace.CurrentCamera.CoordinateFrame.lookVector * (lastctrl.f+lastctrl.b)) + ((game.Workspace.CurrentCamera.CoordinateFrame * CFrame.new(lastctrl.l+lastctrl.r,(lastctrl.f+lastctrl.b)*.2,0).p) - game.Workspace.CurrentCamera.CoordinateFrame.p))*speed
			else
				bv.velocity = Vector3.new(0,0.1,0)
			end
			bg.cframe = game.Workspace.CurrentCamera.CoordinateFrame * CFrame.Angles(-math.rad((ctrl.f+ctrl.b)*50*speed/maxspeed),0,0)
		until not flying
		ctrl = {f = 0, b = 0, l = 0, r = 0}
		lastctrl = {f = 0, b = 0, l = 0, r = 0}
		speed = 0
		bg:Destroy()
		bv:Destroy()
		plr.Character.Humanoid.PlatformStand = false
	end
	mouse.KeyDown:connect(function(key)
		if key:lower() == "x" then
			if flying then flying = false
			else
				flying = true
				Fly()
			end
		elseif key:lower() == "w" then
			ctrl.f = 1
		elseif key:lower() == "s" then
			ctrl.b = -1
		elseif key:lower() == "a" then
			ctrl.l = -1
		elseif key:lower() == "d" then
			ctrl.r = 1
		end
	end)
	mouse.KeyUp:connect(function(key)
		if key:lower() == "w" then
			ctrl.f = 0
		elseif key:lower() == "s" then
			ctrl.b = 0
		elseif key:lower() == "a" then
			ctrl.l = 0
		elseif key:lower() == "d" then
			ctrl.r = 0
		end
	end)
	Fly()
end)

TextButton.Parent = main
TextButton.BackgroundColor3 = Color3.fromRGB(255, 0, 4)
TextButton.Position = UDim2.new(0.958865762, 0, 0.00624288432, 0)
TextButton.Size = UDim2.new(0, 23, 0, 22)
TextButton.Font = Enum.Font.SourceSans
TextButton.Text = "X"
TextButton.TextColor3 = Color3.fromRGB(0, 0, 0)
TextButton.TextScaled = true
TextButton.TextSize = 14.000
TextButton.TextWrapped = true

TextButton_2.Parent = ScreenGui
TextButton_2.BackgroundColor3 = Color3.fromRGB(25, 155, 255)
TextButton_2.Position = UDim2.new(0, 0, 0.878740132, 0)
TextButton_2.Size = UDim2.new(0, 135, 0, 34)
TextButton_2.Font = Enum.Font.PermanentMarker
TextButton_2.Text = "open/close"
TextButton_2.TextColor3 = Color3.fromRGB(0, 0, 0)
TextButton_2.TextScaled = true
TextButton_2.TextSize = 14.000
TextButton_2.TextWrapped = true

-- Scripts:

local function KTGVW_fake_script() -- TextButton.LocalScript 
	local script = Instance.new('LocalScript', TextButton)

	local Frame = script.Parent.Parent
	
	script.Parent.MouseButton1Click:Connect(function()
		Frame.Visible = false
	end)
	
end
coroutine.wrap(KTGVW_fake_script)()
local function XTYCWR_fake_script() -- TextButton_2.LocalScript 
	local script = Instance.new('LocalScript', TextButton_2)

	
	local main = script.Parent.Parent.main
	
	script.Parent.MouseButton1Click:Connect(function()
		main.Visible = true
	end)
end
coroutine.wrap(XTYCWR_fake_script)()
